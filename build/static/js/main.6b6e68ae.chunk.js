(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(88)},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),o=a.n(l),c=a(9),i=a(1),s=a(2),m=a(4),u=a(3),d=a(5),p=a(36),b=a.n(p).a.create({baseURL:"https://demo-nodejs-reactjs.herokuapp.com/api/v1"}),h=a(6),g=a(17),f=a(37);var E=Object(c.b)(function(e){return{isLogin:e.auth.isLogin}})(function(e){var t=e.component,a=e.isLogin,n=Object(f.a)(e,["component","isLogin"]);return r.a.createElement(g.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(t,e):r.a.createElement(g.a,{to:"/login"})}}))}),v=a(39),y=a.n(v),O=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.blog,n=a?y()(a.created).format("MMMM, DD YYYY"):"";return"blog_type_1"===t?r.a.createElement("div",{className:"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative"},r.a.createElement("div",{className:"col p-4 d-flex flex-column position-static"},r.a.createElement("strong",{className:"d-inline-block mb-2 text-primary"},"World"),r.a.createElement("h3",{className:"mb-0"},"Featured post"),r.a.createElement("div",{className:"mb-1 text-muted"},"Nov 12"),r.a.createElement("p",{className:"card-text mb-auto"},"This is a wider card with supporting text below as a natural lead-in to additional content."),r.a.createElement(h.b,{to:"/blog/blog-name-slug",className:"stretched-link"},"Continue reading")),r.a.createElement("div",{className:"col-auto d-none d-lg-block"},r.a.createElement("svg",{className:"bd-placeholder-img",width:"200",height:"250",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img","aria-label":"Placeholder: Thumbnail"},r.a.createElement("title",null,"Placeholder"),r.a.createElement("rect",{width:"100%",height:"100%",fill:"#55595c"}),r.a.createElement("text",{x:"50%",y:"50%",fill:"#eceeef",dy:".3em"},"Thumbnail")))):r.a.createElement("div",{className:"blog-post"},r.a.createElement("h2",{className:"blog-post-title"},a.name),r.a.createElement("p",{className:"blog-post-meta"},n," by Admin"),r.a.createElement("p",null,a.description),r.a.createElement(h.b,{to:"/blog/".concat(a.slug)},"Read more.."))}}]),t}(n.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"jumbotron p-4 p-md-5 text-white rounded bg-dark"},r.a.createElement("div",{className:"col-md-6 px-0"},r.a.createElement("h1",{className:"display-4 font-italic"},"Title of a longer featured blog post"),r.a.createElement("p",{className:"lead my-3"},"Multiple lines of text that form the lede, informing new readers quickly and efficiently about what\u2019s most interesting in this post\u2019s contents."),r.a.createElement("p",{className:"lead mb-0"},r.a.createElement("a",{href:"#",className:"text-white font-weight-bold"},"Continue reading..."))))}}]),t}(n.Component),j=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("aside",{className:"col-md-4 blog-sidebar"},r.a.createElement("div",{className:"p-4 mb-3 bg-light rounded"},r.a.createElement("h4",{className:"font-italic"},"About"),r.a.createElement("p",{className:"mb-0"},"Etiam porta ",r.a.createElement("em",null,"sem malesuada magna")," mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.")),r.a.createElement("div",{className:"p-4"},r.a.createElement("h4",{className:"font-italic"},"Archives"),r.a.createElement("ol",{className:"list-unstyled mb-0"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"March 2014")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"February 2014")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"January 2014")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"December 2013")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"November 2013")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"October 2013")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"September 2013")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"August 2013")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"July 2013")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"June 2013")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"May 2013")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"April 2013")))),r.a.createElement("div",{className:"p-4"},r.a.createElement("h4",{className:"font-italic"},"Elsewhere"),r.a.createElement("ol",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"GitHub")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Twitter")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Facebook")))))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getData=function(e,t){a.setState({loading:!0});var n=a.state.blogs;b.get("/blogs?skip=".concat(e,"&limit=").concat(t)).then(function(e){return e.data}).then(function(e){return a.setState({blogs:[].concat(n,e),loading:!1})}).catch(function(e){console.log(e),a.setState({loading:!1})})},a.handleMore=function(){var e=a.state,t=e.skip,n=e.limit;a.setState({skip:t+n},function(){a.getData(t+n,n)})},a.state={blogs:[],skip:0,limit:3,loading:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.skip,a=e.limit;this.getData(t,a)}},{key:"render",value:function(){var e=this.state,t=e.blogs,a=e.loading;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(N,null),r.a.createElement("div",{className:"row mb-2"},[1,2].map(function(e){return r.a.createElement("div",{className:"col-md-6",key:e},r.a.createElement(O,{type:"blog_type_1"})," ")}))),r.a.createElement("main",{role:"main",className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 blog-main"},r.a.createElement("h3",{className:"pb-4 mb-4 font-italic border-bottom"},"From the Firehose"),t.map(function(e){return r.a.createElement(O,{key:e._id,blog:e})}),r.a.createElement("nav",{className:"blog-pagination"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.handleMore},a?"Loading...":"More"))),r.a.createElement(j,null))))}}]),t}(n.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-3 mb-3"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){console.log(e,"slug"),a.setState({loading:!0}),b.get("/blogs/slug?slug=".concat(e)).then(function(e){return e.data}).then(function(e){return a.setState({data:e,loading:!1})}).catch(function(e){console.log(e),a.setState({loading:!1})})},a.state={data:{},loading:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;e&&e.slug&&this.getData(e.slug)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.data;return r.a.createElement("div",{className:"container mt-3 mb-3"},t?"Loading...":a.content)}}]),t}(n.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-3 mb-3"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlInput1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlTextarea1"},"Example textarea"),r.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3"})),r.a.createElement("input",{className:"btn btn-info",type:"button",value:"Submit"})))}}]),t}(n.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(N,null),[1,2,3].map(function(e){return r.a.createElement(O,{key:e,blog:{}})}))}}]),t}(n.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"blog-header py-3"},r.a.createElement("div",{className:"row flex-nowrap justify-content-between align-items-center"},r.a.createElement("div",{className:"col-4 pt-1"},r.a.createElement(h.b,{className:"text-muted",to:"/About"},"About")," ","|",r.a.createElement(h.b,{className:"text-muted",to:"/contact"},"Contact")),r.a.createElement("div",{className:"col-4 text-center"},r.a.createElement(h.b,{className:"blog-header-logo text-dark",to:"/"},"Large")),r.a.createElement("div",{className:"col-4 d-flex justify-content-end align-items-center"},r.a.createElement("a",{className:"text-muted",href:"#"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"mx-3",role:"img",viewBox:"0 0 24 24",focusable:"false"},r.a.createElement("title",null,"Search"),r.a.createElement("circle",{cx:"10.5",cy:"10.5",r:"7.5"}),r.a.createElement("path",{d:"M21 21l-5.2-5.2"}))),r.a.createElement("a",{className:"btn btn-sm btn-outline-secondary",href:"#"},"Sign up"))))}}]),t}(n.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"blog-footer"},r.a.createElement("p",null,"Blog template built for"," ",r.a.createElement("a",{href:"https://getbootstrap.com/"},"Bootstrap")," by"," ",r.a.createElement("a",{href:"https://twitter.com/mdo"},"@mdo"),"."),r.a.createElement("p",null,r.a.createElement("a",{href:"#"},"Back to top")))}}]),t}(n.Component),L=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=window.MENU;return r.a.createElement("div",{className:"nav-scroller py-1 mb-2"},r.a.createElement("nav",{className:"nav d-flex justify-content-between"},e.map(function(e){return r.a.createElement(h.b,{key:e._id,className:"p-2 text-muted",to:"/"},e.name)})))}}]),t}(n.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(_,null),r.a.createElement(L,null)),r.a.createElement(g.b,{path:"/",exact:!0,component:C}),r.a.createElement(g.b,{path:"/about",exact:!0,component:k}),r.a.createElement(g.b,{path:"/contact",exact:!0,component:x}),r.a.createElement(g.b,{path:"/category/:slug",exact:!0,component:w}),r.a.createElement(g.b,{path:"/blog/:slug",exact:!0,component:S}),r.a.createElement(D,null))}}]),t}(n.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Dashboard")}}]),t}(n.Component),F=a(18),R=a.n(F);function M(){return function(e){e({type:"CATEGORY_REQUEST"}),b.get("/categories").then(function(e){return e.data}).then(function(t){e({type:"CATEGORY_REQUEST_SUCCESS",payload:t})}).catch(function(e){return console.log(e)})}}var A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getCategoryDetail=function(){var e=null,t=a.props.location.search;if(t){var n=R.a.parse(t).category_id;n&&(e=n)}e&&b.get("/categories/"+e).then(function(e){return e.data}).then(function(e){console.log(e,"category detailt");var t=e.name,n=e.slug;a.setState({name:t,slug:n})}).catch(function(e){return console.log(e)})},a.handleSave=function(){var e=a.state,t=e.name,n=e.slug,r=null,l=a.props.location.search;if(l){var o=R.a.parse(l).category_id;o&&(r=o)}r?a.props.updateData(r,{name:t,slug:n}):a.props.saveData({name:t,slug:n}),a.props.history.push("/dashboard/category")},a.state={name:"",slug:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getCategoryDetail()}},{key:"componentWillReceiveProps",value:function(e){e.location.key!==this.props.location.key&&this.getCategoryDetail()}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state,a=t.name,n=t.slug;return r.a.createElement("div",{className:"mt-5"},r.a.createElement("h3",{className:"float-left"},"Add Category"),r.a.createElement(h.b,{className:"float-right btn btn-primary mb-3",to:"/dashboard/category"},"Back"),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{value:a,type:"text",name:"name",className:"form-control",id:"name",onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"slug"},"Slug"),r.a.createElement("input",{value:n,type:"text",className:"form-control",id:"slug",onChange:function(t){return e.setState({slug:t.target.value})}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSave},"Submit"))}}]),t}(n.Component),B=Object(c.b)(function(e){var t=e.category;return{loading:t.loading,data:t.data}},function(e){return{saveData:function(t){return e(function(e){return function(t){b.post("/categories",e).then(function(e){t(M())}).catch(function(e){return console.log(e)})}}(t))},updateData:function(t,a){return e(function(e,t){return function(a){b.put("/categories/".concat(e),t).then(function(e){a(M())}).catch(function(e){return console.log(e)})}}(t,a))}}})(A),I=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(M())}},{key:"handleDelete",value:function(e){this.props.dispatch(function(e){return function(t){b.delete("/categories/".concat(e)).then(function(e){t(M())}).catch(function(e){return console.log(e)})}}(e))}},{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",{className:"mt-5"},r.a.createElement("h3",{className:"float-left"},"Categories"),r.a.createElement(h.b,{className:"float-right btn btn-primary mb-3",to:"/dashboard/category/form"},"Add Category"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Slug"),r.a.createElement("th",{scope:"col",className:"text-right"},"Action"))),r.a.createElement("tbody",null,t.map(function(t,a){return r.a.createElement("tr",{key:t._id},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.slug),r.a.createElement("td",{className:"text-right"},r.a.createElement(h.b,{to:"/dashboard/category/form?category_id=".concat(t._id),className:"btn btn-primary mr-1"},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.handleDelete(t._id)}},"Delete")))}))))}}]),t}(n.Component),G=Object(c.b)(function(e){var t=e.category;return{loading:t.loading,data:t.data}})(I);function Q(){return function(e){e({type:"BLOG_REQUEST"}),b.get("/blogs").then(function(e){return e.data}).then(function(t){console.log(t),e({type:"BLOG_REQUEST_SUCCESS",payload:t})}).catch(function(e){return console.log(e)})}}var Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={data:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.path;b.get(t).then(function(e){return e.data}).then(function(t){e.setState({data:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,this.props.name),r.a.createElement("select",{className:"form-control",onChange:this.props.onChange,value:this.props.value},this.state.data.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getBlogDetail=function(){var e=null,t=a.props.location.search;if(t){var n=R.a.parse(t).blog_id;n&&(e=n)}e&&b.get("/blogs/"+e).then(function(e){return e.data}).then(function(e){console.log(e,"blog detailt");var t=e.name,n=e.slug,r=e.image,l=e.description,o=e.content,c=e.category;a.setState({name:t,slug:n,image:r,description:l,content:o,category:c})}).catch(function(e){return console.log(e)})},a.handleSave=function(){var e=a.state,t=e.name,n=e.slug,r=e.image,l=e.description,o=e.content,c=e.category,i=null,s=a.props.location.search;if(s){var m=R.a.parse(s).blog_id;m&&(i=m)}i?a.props.updateData(i,{name:t,slug:n,image:r,description:l,content:o,category:c}):a.props.saveData({name:t,slug:n,image:r,description:l,content:o,category:c}),a.props.history.push("/dashboard/blog")},a.handleSelectFile=function(e){var t=e.target.files;console.log(e.target.files[0]);var n=new FormData;n.set("image",t[0]),b({method:"post",url:"/upload",data:n,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(function(e){return e.data}).then(function(e){var t=e.link;console.log(n,"upload success"),a.setState({image:t})}).catch(function(e){console.log(e)})},a.state={name:"",slug:"",image:"",description:"",category:"",content:""},a.inputUpload=r.a.createRef(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getBlogDetail()}},{key:"componentWillReceiveProps",value:function(e){e.location.key!==this.props.location.key&&this.getBlogDetail()}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.slug,l=t.image,o=t.description,c=t.category,i=t.content;return r.a.createElement("div",{className:"mt-5"},r.a.createElement("h3",{className:"float-left"},"Add Blog"),r.a.createElement(h.b,{className:"float-right btn btn-primary mb-3",to:"/dashboard/blog"},"Back"),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{value:a,type:"text",name:"name",className:"form-control",id:"name",onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"slug"},"Slug"),r.a.createElement("input",{value:n,type:"text",className:"form-control",id:"slug",onChange:function(t){return e.setState({slug:t.target.value})}})),r.a.createElement("label",{htmlFor:"slug"},"Image"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{value:l,type:"text",className:"form-control",id:"slug",onChange:function(t){return e.setState({image:t.target.value})}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(t){return e.inputUpload.current.click()}},"Select File")),r.a.createElement("input",{style:{opacity:0,width:0,height:0},ref:this.inputUpload,type:"file",onChange:this.handleSelectFile})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{value:o,onChange:function(t){return e.setState({description:t.target.value})},className:"form-control",id:"description",rows:"3"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Content"),r.a.createElement("textarea",{value:i,onChange:function(t){return e.setState({content:t.target.value})},className:"form-control",id:"description",rows:"3"})),r.a.createElement(Y,{value:c,onChange:function(t){return e.setState({category:t.target.value})},path:"/categories",name:"Select Category"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSave},"Submit"))}}]),t}(n.Component),W=Object(c.b)(function(e){var t=e.blog;return{loading:t.loading,data:t.data}},function(e){return{saveData:function(t){return e(function(e){return function(t){b.post("/blogs",e).then(function(e){t(Q())}).catch(function(e){return console.log(e)})}}(t))},updateData:function(t,a){return e(function(e,t){return function(a){b.put("/blogs/".concat(e),t).then(function(e){a(Q())}).catch(function(e){return console.log(e)})}}(t,a))}}})(P),q=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Q())}},{key:"handleDelete",value:function(e){this.props.dispatch(function(e){return function(t){b.delete("/blogs/".concat(e)).then(function(e){t(Q())}).catch(function(e){return console.log(e)})}}(e))}},{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",{className:"mt-5"},r.a.createElement("h3",{className:"float-left"},"Blogs"),r.a.createElement(h.b,{className:"float-right btn btn-primary mb-3",to:"/dashboard/blog/form"},"Add Blog"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Slug"),r.a.createElement("th",{scope:"col",className:"text-right"},"Action"))),r.a.createElement("tbody",null,t.map(function(t,a){return r.a.createElement("tr",{key:t._id},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.slug),r.a.createElement("td",{className:"text-right"},r.a.createElement(h.b,{to:"/dashboard/blog/form?blog_id=".concat(t._id),className:"btn btn-primary mr-1"},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.handleDelete(t._id)}},"Delete")))}))))}}]),t}(n.Component),J=Object(c.b)(function(e){var t=e.blog;return{loading:t.loading,data:t.data}})(q),X=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(h.b,{className:"navbar-brand",to:"/dashboard"},"Dashboard"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(h.b,{className:"nav-link",to:"/dashboard/category"},"Categories")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link",to:"/dashboard/blog"},"Blogs")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link",to:"/dashboard/contacts"},"Contacts"))))),r.a.createElement(g.b,{path:"/dashboard",exact:!0,component:U}),r.a.createElement(g.b,{path:"/dashboard/category",exact:!0,component:G}),r.a.createElement(g.b,{path:"/dashboard/category/form",exact:!0,component:B}),r.a.createElement(g.b,{path:"/dashboard/blog",exact:!0,component:J}),r.a.createElement(g.b,{path:"/dashboard/blog/form",exact:!0,component:W})))}}]),t}(n.Component);var H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleLogin=function(){var e=a.state,t=e.email,n=e.password;a.props.dispatch(function(e){var t=e.email,a=e.password;return function(e){e({type:"LOGIN_REQUEST"}),b.post("/users/login",{email:t,password:a}).then(function(e){return e.data}).then(function(t){var a=t.token;localStorage.setItem("token",a),e({type:"LOGIN_REQUEST_SUCCESS"})}).catch(function(e){return console.log(e)})}}({email:t,password:n}))},a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.isLogin?r.a.createElement(g.a,{to:"/dashboard"}):r.a.createElement("div",null,r.a.createElement("form",{className:"container",style:{maxWidth:400}},r.a.createElement("h2",{className:"text-center mt-5"},"Login "),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlInput1"},"Email"),r.a.createElement("input",{type:"email",className:"form-control",id:"exampleFormControlInput1",placeholder:"Email",onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlInput1"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"exampleFormControlInput1",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("button",{onClick:this.handleLogin,className:"btn btn-info",type:"button",value:"Login"},"Login")))}}]),t}(n.Component),V=Object(c.b)(function(e){return{isLogin:e.auth.isLogin}})(H),$=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/login",component:V}),r.a.createElement(E,{path:"/dashboard",component:X}),r.a.createElement(g.b,{path:"/",component:T})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=a(15),K=a(40),Z=a(16),ee={loading:!1,data:[],pending:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOG_REQUEST":return Object(Z.a)({},e,{loading:!0});case"BLOG_REQUEST_SUCCESS":return Object(Z.a)({},e,{loading:!1,data:t.payload});default:return e}return e},ae={pending:!1,isLogin:!!localStorage.getItem("token")},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;switch((arguments.length>1?arguments[1]:void 0).type){case"LOGIN_REQUEST":return Object(Z.a)({},e,{pending:!0});case"LOGIN_REQUEST_SUCCESS":return Object(Z.a)({},e,{pending:!1,isLogin:!0});default:return e}return e},re={loading:!1,data:[],pending:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORY_REQUEST":return Object(Z.a)({},e,{loading:!0});case"CATEGORY_REQUEST_SUCCESS":return Object(Z.a)({},e,{loading:!1,data:t.payload});default:return e}return e},oe=Object(z.c)({blog:te,auth:ne,category:le}),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,ie=Object(z.e)(oe,ce(Object(z.a)(K.a)));a(86),a(87);o.a.render(r.a.createElement(c.a,{store:ie},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.6b6e68ae.chunk.js.map